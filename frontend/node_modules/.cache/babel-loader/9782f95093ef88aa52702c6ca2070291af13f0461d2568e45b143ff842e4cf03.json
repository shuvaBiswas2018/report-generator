{"ast":null,"code":"// inside Login.jsx submit code (after successful auth.signin)\nconst submit = async e => {\n  e.preventDefault();\n  setError('');\n  setBusy(true);\n  try {\n    var _location$state, _location$state2, _location$state2$from;\n    await auth.signin({\n      email,\n      password\n    });\n\n    // check if there was a pendingUploadKey\n    const pendingUploadKey = (_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state.pendingUploadKey;\n    const redirectTo = ((_location$state2 = location.state) === null || _location$state2 === void 0 ? void 0 : (_location$state2$from = _location$state2.from) === null || _location$state2$from === void 0 ? void 0 : _location$state2$from.pathname) || '/';\n    if (pendingUploadKey) {\n      // navigate back to the analysis page and pass the key so the component auto-restores\n      navigate(redirectTo, {\n        replace: true,\n        state: {\n          pendingUploadKey\n        }\n      });\n    } else {\n      // normal redirect\n      navigate(redirectTo, {\n        replace: true\n      });\n    }\n  } catch (err) {\n    setError(err.message || 'Login failed');\n  } finally {\n    setBusy(false);\n  }\n};","map":{"version":3,"names":["submit","e","preventDefault","setError","setBusy","_location$state","_location$state2","_location$state2$from","auth","signin","email","password","pendingUploadKey","location","state","redirectTo","from","pathname","navigate","replace","err","message"],"sources":["/Users/shuvabiswas/report-generator/frontend/src/pages/Login.jsx"],"sourcesContent":["// inside Login.jsx submit code (after successful auth.signin)\nconst submit = async (e) => {\n  e.preventDefault();\n  setError('');\n  setBusy(true);\n  try {\n    await auth.signin({ email, password });\n\n    // check if there was a pendingUploadKey\n    const pendingUploadKey = location.state?.pendingUploadKey;\n    const redirectTo = location.state?.from?.pathname || '/';\n\n    if (pendingUploadKey) {\n      // navigate back to the analysis page and pass the key so the component auto-restores\n      navigate(redirectTo, { replace: true, state: { pendingUploadKey } });\n    } else {\n      // normal redirect\n      navigate(redirectTo, { replace: true });\n    }\n  } catch (err) {\n    setError(err.message || 'Login failed');\n  } finally {\n    setBusy(false);\n  }\n};\n"],"mappings":"AAAA;AACA,MAAMA,MAAM,GAAG,MAAOC,CAAC,IAAK;EAC1BA,CAAC,CAACC,cAAc,CAAC,CAAC;EAClBC,QAAQ,CAAC,EAAE,CAAC;EACZC,OAAO,CAAC,IAAI,CAAC;EACb,IAAI;IAAA,IAAAC,eAAA,EAAAC,gBAAA,EAAAC,qBAAA;IACF,MAAMC,IAAI,CAACC,MAAM,CAAC;MAAEC,KAAK;MAAEC;IAAS,CAAC,CAAC;;IAEtC;IACA,MAAMC,gBAAgB,IAAAP,eAAA,GAAGQ,QAAQ,CAACC,KAAK,cAAAT,eAAA,uBAAdA,eAAA,CAAgBO,gBAAgB;IACzD,MAAMG,UAAU,GAAG,EAAAT,gBAAA,GAAAO,QAAQ,CAACC,KAAK,cAAAR,gBAAA,wBAAAC,qBAAA,GAAdD,gBAAA,CAAgBU,IAAI,cAAAT,qBAAA,uBAApBA,qBAAA,CAAsBU,QAAQ,KAAI,GAAG;IAExD,IAAIL,gBAAgB,EAAE;MACpB;MACAM,QAAQ,CAACH,UAAU,EAAE;QAAEI,OAAO,EAAE,IAAI;QAAEL,KAAK,EAAE;UAAEF;QAAiB;MAAE,CAAC,CAAC;IACtE,CAAC,MAAM;MACL;MACAM,QAAQ,CAACH,UAAU,EAAE;QAAEI,OAAO,EAAE;MAAK,CAAC,CAAC;IACzC;EACF,CAAC,CAAC,OAAOC,GAAG,EAAE;IACZjB,QAAQ,CAACiB,GAAG,CAACC,OAAO,IAAI,cAAc,CAAC;EACzC,CAAC,SAAS;IACRjB,OAAO,CAAC,KAAK,CAAC;EAChB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}