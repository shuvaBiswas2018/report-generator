{"ast":null,"code":"var _jsxFileName = \"/Users/shuvabiswas/report-generator/frontend/src/components/AnalysisPage.jsx\",\n  _s = $RefreshSig$();\n// src/components/AnalysisPage.jsx\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useParams, useLocation, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../auth/AuthProvider';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AnalysisPage() {\n  _s();\n  const {\n    analysisType\n  } = useParams();\n  const auth = useAuth();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const [file, setFile] = useState(null);\n  const [columns, setColumns] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const fileRef = useRef();\n\n  // If we were redirected after login with a pendingUploadKey, restore and auto-upload\n  useEffect(() => {\n    var _location$state;\n    const pendingKey = (_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state.pendingUploadKey;\n    if (pendingKey) {\n      const raw = sessionStorage.getItem(pendingKey);\n      if (raw) {\n        try {\n          const payload = JSON.parse(raw); // { name, type, dataUrl }\n          dataURLToFile(payload.dataUrl, payload.name, payload.type).then(restoredFile => {\n            setFile(restoredFile);\n            // start upload (must be authenticated now)\n            onUploadInternal(restoredFile, pendingKey);\n          }).catch(err => {\n            console.error('restore failed', err);\n            // cleanup and navigate back without state\n            sessionStorage.removeItem(pendingKey);\n            navigate(location.pathname, {\n              replace: true,\n              state: {}\n            });\n          });\n        } catch (err) {\n          console.error('invalid pending upload payload', err);\n        }\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [location.state]);\n\n  // helper: convert dataURL back to File\n  function dataURLToFile(dataUrl, filename, mimeType) {\n    return fetch(dataUrl).then(res => res.blob()).then(blob => new File([blob], filename, {\n      type: mimeType || blob.type\n    }));\n  }\n\n  // helper: actual upload to backend (replace URL with your real endpoint)\n  async function uploadToBackend(fileToUpload) {\n    const fd = new FormData();\n    fd.append('file', fileToUpload);\n    fd.append('analysisType', analysisType);\n    // If you have auth token:\n    const headers = auth.token ? {\n      Authorization: `Bearer ${auth.token}`\n    } : {};\n    // replace with real backend URL\n    const url = 'http://localhost:5000/api/upload';\n    try {\n      const res = await axios.post(url, fd, {\n        headers\n      });\n      return res.data;\n    } catch (err) {\n      // For demo environments where backend is not present, mock a reasonable response:\n      console.warn('Upload failed, returning mock response for demo', err.message || err);\n      await new Promise(r => setTimeout(r, 800));\n      return {\n        columns: ['Date', 'Value', 'Category'],\n        message: 'mock response'\n      };\n    }\n  }\n\n  // Internal upload routine (used for auto-restore and normal upload)\n  async function onUploadInternal(fileToUpload, pendingKey) {\n    setLoading(true);\n    try {\n      const response = await uploadToBackend(fileToUpload);\n      setColumns(response.columns || []);\n      // If there was a pendingKey, remove it:\n      if (pendingKey) {\n        sessionStorage.removeItem(pendingKey);\n        // clean navigation state so it won't try again on refresh\n        navigate(location.pathname, {\n          replace: true,\n          state: {}\n        });\n      }\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error(err);\n      alert('Upload failed: ' + (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || err.message));\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  // Called when user clicks Upload & Analyze\n  const onAnalyze = async e => {\n    e.preventDefault();\n    if (!file) {\n      alert('Please choose a file first');\n      return;\n    }\n\n    // If user is authenticated — upload immediately\n    if (auth.user) {\n      await onUploadInternal(file);\n      return;\n    }\n\n    // Not authenticated: read file to dataURL, store in sessionStorage, then redirect to login\n    try {\n      const reader = new FileReader();\n      reader.onload = () => {\n        const dataUrl = reader.result;\n        const pendingKey = `pending_upload_${Date.now()}`;\n        const payload = {\n          name: file.name,\n          type: file.type,\n          size: file.size,\n          dataUrl\n        };\n        try {\n          sessionStorage.setItem(pendingKey, JSON.stringify(payload));\n        } catch (err) {\n          console.error('sessionStorage save failed', err);\n          alert('Unable to save file for resume. Please sign in first or try a smaller file.');\n          return;\n        }\n        // navigate to login with the pending key and where to return\n        const from = {\n          pathname: location.pathname\n        };\n        navigate('/login', {\n          state: {\n            from,\n            pendingUploadKey: pendingKey\n          }\n        });\n      };\n      reader.onerror = err => {\n        console.error('file read failed', err);\n        alert('Failed to read file. Try again.');\n      };\n      reader.readAsDataURL(file);\n    } catch (err) {\n      console.error('onAnalyze failed', err);\n      alert('Unexpected error. Try again.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"pf-page\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pf-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: analysisType ? analysisType.replace('-', ' ') : 'Analysis'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: onAnalyze,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: 12,\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            ref: fileRef,\n            type: \"file\",\n            accept: \".csv,.xlsx\",\n            onChange: e => setFile(e.target.files[0])\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"pf-primary\",\n            type: \"submit\",\n            disabled: loading,\n            children: loading ? 'Processing...' : 'Upload & Analyze'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this), columns.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pf-panel\",\n        style: {\n          marginTop: 16\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Detected columns\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pf-tags\",\n          children: columns.map(c => /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"pf-tag\",\n            children: c\n          }, c, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 56\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 144,\n    columnNumber: 5\n  }, this);\n}\n_s(AnalysisPage, \"IZUt2zHT2z1ZX5dGDH2XZhjiyUk=\", false, function () {\n  return [useParams, useAuth, useNavigate, useLocation];\n});\n_c = AnalysisPage;\nvar _c;\n$RefreshReg$(_c, \"AnalysisPage\");","map":{"version":3,"names":["React","useEffect","useRef","useState","useParams","useLocation","useNavigate","useAuth","axios","jsxDEV","_jsxDEV","AnalysisPage","_s","analysisType","auth","navigate","location","file","setFile","columns","setColumns","loading","setLoading","fileRef","_location$state","pendingKey","state","pendingUploadKey","raw","sessionStorage","getItem","payload","JSON","parse","dataURLToFile","dataUrl","name","type","then","restoredFile","onUploadInternal","catch","err","console","error","removeItem","pathname","replace","filename","mimeType","fetch","res","blob","File","uploadToBackend","fileToUpload","fd","FormData","append","headers","token","Authorization","url","post","data","warn","message","Promise","r","setTimeout","response","_err$response","_err$response$data","alert","onAnalyze","e","preventDefault","user","reader","FileReader","onload","result","Date","now","size","setItem","stringify","from","onerror","readAsDataURL","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","style","display","gap","alignItems","ref","accept","onChange","target","files","disabled","length","marginTop","map","c","_c","$RefreshReg$"],"sources":["/Users/shuvabiswas/report-generator/frontend/src/components/AnalysisPage.jsx"],"sourcesContent":["// src/components/AnalysisPage.jsx\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useParams, useLocation, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../auth/AuthProvider';\nimport axios from 'axios';\n\nexport default function AnalysisPage() {\n  const { analysisType } = useParams();\n  const auth = useAuth();\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  const [file, setFile] = useState(null);\n  const [columns, setColumns] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const fileRef = useRef();\n\n  // If we were redirected after login with a pendingUploadKey, restore and auto-upload\n  useEffect(() => {\n    const pendingKey = location.state?.pendingUploadKey;\n    if (pendingKey) {\n      const raw = sessionStorage.getItem(pendingKey);\n      if (raw) {\n        try {\n          const payload = JSON.parse(raw); // { name, type, dataUrl }\n          dataURLToFile(payload.dataUrl, payload.name, payload.type)\n            .then((restoredFile) => {\n              setFile(restoredFile);\n              // start upload (must be authenticated now)\n              onUploadInternal(restoredFile, pendingKey);\n            })\n            .catch((err) => {\n              console.error('restore failed', err);\n              // cleanup and navigate back without state\n              sessionStorage.removeItem(pendingKey);\n              navigate(location.pathname, { replace: true, state: {} });\n            });\n        } catch (err) {\n          console.error('invalid pending upload payload', err);\n        }\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [location.state]);\n\n  // helper: convert dataURL back to File\n  function dataURLToFile(dataUrl, filename, mimeType) {\n    return fetch(dataUrl)\n      .then(res => res.blob())\n      .then(blob => new File([blob], filename, { type: mimeType || blob.type }));\n  }\n\n  // helper: actual upload to backend (replace URL with your real endpoint)\n  async function uploadToBackend(fileToUpload) {\n    const fd = new FormData();\n    fd.append('file', fileToUpload);\n    fd.append('analysisType', analysisType);\n    // If you have auth token:\n    const headers = auth.token ? { Authorization: `Bearer ${auth.token}` } : {};\n    // replace with real backend URL\n    const url = 'http://localhost:5000/api/upload';\n    try {\n      const res = await axios.post(url, fd, { headers });\n      return res.data;\n    } catch (err) {\n      // For demo environments where backend is not present, mock a reasonable response:\n      console.warn('Upload failed, returning mock response for demo', err.message || err);\n      await new Promise(r => setTimeout(r, 800));\n      return { columns: ['Date', 'Value', 'Category'], message: 'mock response' };\n    }\n  }\n\n  // Internal upload routine (used for auto-restore and normal upload)\n  async function onUploadInternal(fileToUpload, pendingKey) {\n    setLoading(true);\n    try {\n      const response = await uploadToBackend(fileToUpload);\n      setColumns(response.columns || []);\n      // If there was a pendingKey, remove it:\n      if (pendingKey) {\n        sessionStorage.removeItem(pendingKey);\n        // clean navigation state so it won't try again on refresh\n        navigate(location.pathname, { replace: true, state: {} });\n      }\n    } catch (err) {\n      console.error(err);\n      alert('Upload failed: ' + (err.response?.data?.message || err.message));\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  // Called when user clicks Upload & Analyze\n  const onAnalyze = async (e) => {\n    e.preventDefault();\n    if (!file) {\n      alert('Please choose a file first');\n      return;\n    }\n\n    // If user is authenticated — upload immediately\n    if (auth.user) {\n      await onUploadInternal(file);\n      return;\n    }\n\n    // Not authenticated: read file to dataURL, store in sessionStorage, then redirect to login\n    try {\n      const reader = new FileReader();\n      reader.onload = () => {\n        const dataUrl = reader.result;\n        const pendingKey = `pending_upload_${Date.now()}`;\n        const payload = {\n          name: file.name,\n          type: file.type,\n          size: file.size,\n          dataUrl\n        };\n        try {\n          sessionStorage.setItem(pendingKey, JSON.stringify(payload));\n        } catch (err) {\n          console.error('sessionStorage save failed', err);\n          alert('Unable to save file for resume. Please sign in first or try a smaller file.');\n          return;\n        }\n        // navigate to login with the pending key and where to return\n        const from = { pathname: location.pathname };\n        navigate('/login', { state: { from, pendingUploadKey: pendingKey } });\n      };\n\n      reader.onerror = (err) => {\n        console.error('file read failed', err);\n        alert('Failed to read file. Try again.');\n      };\n\n      reader.readAsDataURL(file);\n    } catch (err) {\n      console.error('onAnalyze failed', err);\n      alert('Unexpected error. Try again.');\n    }\n  };\n\n  return (\n    <div className=\"pf-page\">\n      <div className=\"pf-card\">\n        <h2>{analysisType ? analysisType.replace('-', ' ') : 'Analysis'}</h2>\n\n        <form onSubmit={onAnalyze}>\n          <div style={{ display: 'flex', gap: 12, alignItems: 'center' }}>\n            <input\n              ref={fileRef}\n              type=\"file\"\n              accept=\".csv,.xlsx\"\n              onChange={(e) => setFile(e.target.files[0])}\n            />\n            <button className=\"pf-primary\" type=\"submit\" disabled={loading}>\n              {loading ? 'Processing...' : 'Upload & Analyze'}\n            </button>\n          </div>\n        </form>\n\n        {/* show detected columns or upload status */}\n        {columns.length > 0 && (\n          <div className=\"pf-panel\" style={{ marginTop: 16 }}>\n            <h4>Detected columns</h4>\n            <div className=\"pf-tags\">{columns.map(c => <span key={c} className=\"pf-tag\">{c}</span>)}</div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}